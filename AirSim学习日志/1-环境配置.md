### 1.AirSim是什么

#### 1.1 前言

#### 1.2 AirSim介绍



### 2.系统配置

|        | 最低要求                           | 实际使用                                            |
| ------ | ---------------------------------- | --------------------------------------------------- |
| 系统   | Windows 7                          | Windows 10 64-bit                                   |
| 处理器 | Intel或AMD四核处理器，2.5GHz或更快 | Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz   2.59 GHz |
| 内存   | 8GB                                | 16GB                                                |
| 显卡   | DirectX11或12兼容显卡              | NVIDIA 1660Ti                                       |
| 硬盘   |                                    | 1 TB                                                |



### 3.软件安装

#### 3.1 Visual Studio

AirSim源码编译时对虚幻引擎和Visual Studio的版本是有要求的。网上很多教程都使用了VS 2019的版本，但是在我使用VS 2019进行编译的时候，出现了Visual Studio版本不满足要求的提示。我去GitHub中查看了AirSim源码的更新记录，发现其VS支持版本被更新为2022。

![image-20220629103418641](https://cdn.jsdelivr.net/gh/kun-k/blogweb/imageimage-20220629103418641.png)

大家可以先前去`https://github.com/Microsoft/AirSim`查看版本支持再安装或更新软件，毕竟Visual Studio安装起来也挺费时间的。

#### 3.2 安装虚幻引擎

直接通过官网免费下载即可`https://www.unrealengine.com/zh-CN/`。下载安装完成后，在“虚幻引擎-库”界面下，选择引擎版本进行安装，如下图所示。

![image-20220629104107303](https://cdn.jsdelivr.net/gh/kun-k/blogweb/imageimage-20220629104107303.png)

关于版本的选择，虚幻引擎不同版本之间向下兼容，大家可以根据场景的需要安装合适的版本，这里安装了4.27版本的虚幻引擎。



### 4.AirSim源码编译

首先下载源码，Github网址为`https://github.com/Microsoft/AirSim`，可以选择通过git命令下载，或到网址中打包下载源码。

进入“Developer Command Prompt for VS 2022”，在菜单中直接搜索即可。在命令行中进入AirSim源码所在的文件夹，输入指令`build.cmd`开始编译。编译用时较长。确保编译完成且无报错之后，后会在“AirSim\Unreal”文件夹下生成“Plugins”文件夹，这个文件夹是AirSim插件，之后可被复制至任何一个虚幻引擎工程中使用。

```
cd xxx  // 进入你希望下载源码的路径
git clone https://github.com/Microsoft/AirSim.git  // 使用git命令下载源码
cd AirSim
build.cmd
```

![image-20220629104723251](https://cdn.jsdelivr.net/gh/kun-k/blogweb/imageimage-20220629104723251.png)



### 5.环境测试

使用AirSim自带的一个Unreal工程文件“Block”进行测试。

在“Developer Command Prompt for VS 2022”中，进入文件夹“AirSim\Unreal\Environments\Blocks”，运行指令`update_from_git.bat`,

```
cd AirSim\Unreal\Environments\Blocks
update_from_git.bat
```

会在“Blocks”文件夹下生成一个“Blocks.sln”工程文件，双击打开该文件后，会启动VS 2022。在VS 2022中，将“Games\Blocks”设置为启动项目（如下图右侧标注），将编译选项设置为“DebugGame_Editor”和"Win64"（如下图左侧标注），

![image-20220629110133738](https://cdn.jsdelivr.net/gh/kun-k/blogweb/imageimage-20220629110133738.png)

之后按“F5”或点击“本地Windows调试器”开始调试，会启动Unreal Engine，第一次调试可能会慢一些，需要耐心等待。开启Unreal Engin后的效果如下图所示，第一次启动时可以根据软件提示学习一下界面各部分的功能。点击上方的运行按钮开始运行关卡，此时如果还未设置过“setting.json”文件，会弹出一个对话框，选择“是”会出现一个小车，“否”会出现一个无人机。AirSim和Unreal Engine的环境配置及测试完成。

![image-20220629110727873](https://cdn.jsdelivr.net/gh/kun-k/blogweb/imageimage-20220629110727873.png)



